<div class="wrapper">
  <div class="tableDiv">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 table">
      <ng-container class="ngContainer" matColumnDef="tipSobe">
        <th mat-header-cell *matHeaderCellDef class="mat-header-cel">{{'TipSobe'|transloco}}</th>
        <td mat-cell *matCellDef="let element" class="mat-cell-amenities">
          <h2>{{element.naziv}}</h2>
          <div id="amenities">
            <div class="amenity" *ngFor="let amenity of filter(element)">
              <app-amenity [amenity]="amenity"></app-amenity>
            </div>
          </div>
        </td>
      </ng-container>
      <ng-container class="ngContainer columnOdgovor" matColumnDef="kapacitet">
        <th mat-header-cell *matHeaderCellDef class="mat-header-cel">{{'Kapacitet'|transloco}}</th>
        <td mat-cell *matCellDef="let element" class="mat-cell">
          <div *ngFor="let i of [].constructor(element.kapacitet); let index=index"><mat-icon>person</mat-icon></div>
        </td>
      </ng-container>
      <ng-container class="ngContainer" matColumnDef="cijena">
        <th mat-header-cell *matHeaderCellDef class="mat-header-cel">{{'Cijena'|transloco}}</th>
        <td mat-cell *matCellDef="let element" class="mat-cell cijena"> {{element.ukupnaCijena}} KM </td>
      </ng-container>
      <ng-container class="ngContainer" matColumnDef="broj">
        <th mat-header-cell *matHeaderCellDef class="mat-header-cel">{{'OdaberiteBroj'|transloco}}</th>
        <td mat-cell *matCellDef="let element" class="mat-cell">
          <mat-form-field appearance="fill">
            <mat-label>{{'BrojSoba'|transloco}}</mat-label>
            <mat-select (selectionChange)="Promjena(element.naziv, $event.value, element.id,element.ukupnaCijena)">
              <mat-option *ngFor="let i of [].constructor(Math.ceil(brojGostiju/element.kapacitet)+1); let index=index" [value]="index">
              <!-- (focusout)="Promjena(element.naziv, index, element.id)" -->
                {{index}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns" ></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>
